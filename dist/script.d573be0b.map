{"version":3,"sources":["js/script.js"],"names":["character","labyrinthe","characterPos","x","y","combination","oxo","inputs","listenKey","screens","getCurrentScreen","loadScreen","game","document","getElementById","player","setScore","key","indexOf","animation","move","console","log","end","classList","toggle","window","alert"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,SAAJ;AACA,IAAIC,UAAJ;AACA,IAAIC,YAAY,GAAG;AAACC,EAAAA,CAAC,EAAE,CAAJ;AAAOC,EAAAA,CAAC,EAAE;AAAV,CAAnB;AACA,IAAIC,WAAW,GAAG,CAChB,CAAC,KAAD,EAAO,IAAP,EAAY,IAAZ,EAAiB,IAAjB,EAAsB,GAAtB,EAA0B,IAA1B,EAA+B,GAA/B,EAAmC,IAAnC,EAAwC,IAAxC,EAA6C,IAA7C,EAAkD,IAAlD,EAAuD,IAAvD,EAA4D,IAA5D,EAAiE,KAAjE,CADgB,EAEhB,CAAC,KAAD,EAAO,IAAP,EAAY,IAAZ,EAAiB,IAAjB,EAAsB,IAAtB,EAA2B,KAA3B,EAAiC,IAAjC,EAAsC,KAAtC,EAA4C,IAA5C,EAAiD,GAAjD,EAAqD,IAArD,EAA0D,IAA1D,EAA+D,IAA/D,EAAoE,KAApE,CAFgB,EAGhB,CAAC,IAAD,EAAM,GAAN,EAAU,IAAV,EAAe,IAAf,EAAoB,IAApB,EAAyB,IAAzB,EAA8B,IAA9B,EAAmC,GAAnC,EAAuC,IAAvC,EAA4C,KAA5C,EAAkD,IAAlD,EAAuD,IAAvD,EAA4D,GAA5D,EAAgE,GAAhE,CAHgB,EAIhB,CAAC,KAAD,EAAO,IAAP,EAAY,IAAZ,EAAiB,IAAjB,EAAsB,IAAtB,EAA2B,IAA3B,EAAgC,KAAhC,EAAsC,IAAtC,EAA2C,IAA3C,EAAgD,IAAhD,EAAqD,IAArD,EAA0D,IAA1D,EAA+D,IAA/D,EAAoE,IAApE,CAJgB,EAKhB,CAAC,IAAD,EAAM,KAAN,EAAY,IAAZ,EAAiB,IAAjB,EAAsB,KAAtB,EAA4B,IAA5B,EAAiC,IAAjC,EAAsC,IAAtC,EAA2C,IAA3C,EAAgD,IAAhD,EAAqD,GAArD,EAAyD,IAAzD,EAA8D,IAA9D,EAAmE,IAAnE,CALgB,EAMhB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,IAAzC,EAA8C,KAA9C,EAAoD,KAApD,EAA0D,IAA1D,EAA+D,GAA/D,EAAmE,IAAnE,CANgB,EAOhB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,GAApC,EAAwC,IAAxC,EAA6C,IAA7C,EAAkD,IAAlD,EAAuD,GAAvD,EAA2D,IAA3D,EAAgE,KAAhE,CAPgB,EAQhB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,GAAhB,EAAoB,IAApB,EAAyB,IAAzB,EAA8B,IAA9B,EAAmC,IAAnC,EAAwC,IAAxC,EAA6C,IAA7C,EAAkD,IAAlD,EAAuD,IAAvD,EAA4D,IAA5D,EAAiE,GAAjE,CARgB,EAShB,CAAC,GAAD,EAAK,GAAL,EAAS,KAAT,EAAe,IAAf,EAAoB,IAApB,EAAyB,IAAzB,EAA8B,KAA9B,EAAoC,IAApC,EAAyC,IAAzC,EAA8C,IAA9C,EAAmD,IAAnD,EAAwD,IAAxD,EAA6D,KAA7D,EAAmE,IAAnE,CATgB,EAUhB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,KAArB,EAA2B,IAA3B,EAAgC,IAAhC,EAAqC,IAArC,EAA0C,IAA1C,EAA+C,IAA/C,EAAoD,IAApD,EAAyD,IAAzD,EAA8D,IAA9D,EAAmE,IAAnE,CAVgB,EAWhB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,GAArB,EAAyB,IAAzB,EAA8B,GAA9B,EAAkC,IAAlC,EAAuC,IAAvC,EAA4C,IAA5C,EAAiD,GAAjD,EAAqD,IAArD,EAA0D,IAA1D,EAA+D,IAA/D,CAXgB,EAYhB,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,IAArB,EAA0B,KAA1B,EAAgC,IAAhC,EAAqC,IAArC,EAA0C,IAA1C,EAA+C,IAA/C,EAAoD,IAApD,EAAyD,IAAzD,EAA8D,IAA9D,EAAmE,IAAnE,CAZgB,CAAlB,EAeA;;AACAC,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqB,OAArB,EAA8B,YAAW;AACvC,MAAIF,GAAG,CAACG,OAAJ,CAAYC,gBAAZ,KAAiC,MAArC,EAA6C;AAC3CJ,IAAAA,GAAG,CAACG,OAAJ,CAAYE,UAAZ,CAAuB,MAAvB,EAA+BC,IAA/B;AACD;AACF,CAJD;;AAMA,SAASA,IAAT,GAAgB;AACdX,EAAAA,UAAU,GAAGY,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAb;AACAZ,EAAAA,YAAY,GAAG;AAACC,IAAAA,CAAC,EAAE,CAAJ;AAAOC,IAAAA,CAAC,EAAE;AAAV,GAAf;AACAE,EAAAA,GAAG,CAACS,MAAJ,CAAWC,QAAX,CAAoB,CAApB;AACAhB,EAAAA,SAAS,GAAGa,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAZ,CAJc,CAIoC;;AAClDR,EAAAA,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqB,IAArB,EAA2B,UAASS,GAAT,EAAc;AACvC,QAAIZ,WAAW,CAACH,YAAY,CAACE,CAAd,CAAX,CAA4BF,YAAY,CAACC,CAAzC,EAA4Ce,OAA5C,CAAoD,GAApD,IAA2D,CAA/D,EAAkE;AAChEZ,MAAAA,GAAG,CAACa,SAAJ,CAAcC,IAAd,CAAmBpB,SAAnB,EAA8B,IAA9B,EAAoC,EAApC;AACAE,MAAAA,YAAY,CAACE,CAAb;AACD;;AACDiB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAOL,GAAnB,EALuC,CAKd;;AACzBI,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACC,CAAzB;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACE,CAAzB;AACD,GARD;AAUAE,EAAAA,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqB,MAArB,EAA6B,UAASS,GAAT,EAAc;AACzC,QAAIZ,WAAW,CAACH,YAAY,CAACE,CAAd,CAAX,CAA4BF,YAAY,CAACC,CAAzC,EAA4Ce,OAA5C,CAAoD,GAApD,IAA2D,CAA/D,EAAmE;AACjEZ,MAAAA,GAAG,CAACa,SAAJ,CAAcC,IAAd,CAAmBpB,SAAnB,EAA8B,MAA9B,EAAsC,EAAtC;AACAE,MAAAA,YAAY,CAACE,CAAb;AACD;;AACD,QAAIE,GAAG,CAACG,OAAJ,CAAYC,gBAAZ,KAAiC,KAAjC,IAA0CR,YAAY,CAACE,CAAb,GAAiB,EAA/D,EAAmE;AACjEE,MAAAA,GAAG,CAACG,OAAJ,CAAYE,UAAZ,CAAuB,KAAvB,EAA8BY,GAA9B;AACD;;AACDF,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAOL,GAAnB,EARyC,CAQhB;;AACzBI,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACC,CAAzB;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACE,CAAzB;AACD,GAXD;AAaAE,EAAAA,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqB,MAArB,EAA6B,UAASS,GAAT,EAAc;AACzC,QAAIZ,WAAW,CAACH,YAAY,CAACE,CAAd,CAAX,CAA4BF,YAAY,CAACC,CAAzC,EAA4Ce,OAA5C,CAAoD,GAApD,IAA2D,CAA/D,EAAmE;AACjEZ,MAAAA,GAAG,CAACa,SAAJ,CAAcC,IAAd,CAAmBpB,SAAnB,EAA8B,MAA9B,EAAsC,EAAtC;AACAE,MAAAA,YAAY,CAACC,CAAb;AACD;;AACDkB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAOL,GAAnB,EALyC,CAKhB;;AACzBI,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACC,CAAzB;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACE,CAAzB;;AACA,QAAIF,YAAY,CAACC,CAAb,KAAmB,CAAnB,IAAwBD,YAAY,CAACE,CAAb,KAAmB,CAA/C,EAAkD;AAChDH,MAAAA,UAAU,CAACuB,SAAX,CAAqBC,MAArB,CAA4B,YAA5B;AACD;AACF,GAXD;AAaAnB,EAAAA,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqB,OAArB,EAA8B,UAASS,GAAT,EAAc;AAC1C,QAAIZ,WAAW,CAACH,YAAY,CAACE,CAAd,CAAX,CAA4BF,YAAY,CAACC,CAAzC,EAA4Ce,OAA5C,CAAoD,GAApD,IAA2D,CAA/D,EAAmE;AACjEZ,MAAAA,GAAG,CAACa,SAAJ,CAAcC,IAAd,CAAmBpB,SAAnB,EAA8B,OAA9B,EAAuC,EAAvC;AACAE,MAAAA,YAAY,CAACC,CAAb;AACD;;AACD,QAAID,YAAY,CAACC,CAAb,KAAmB,CAAnB,IAAwBD,YAAY,CAACE,CAAb,KAAmB,EAA/C,EAAmD;AAEjDH,MAAAA,UAAU,CAACuB,SAAX,CAAqBC,MAArB,CAA4B,YAA5B;AACD;;AACD,QAAIvB,YAAY,CAACC,CAAb,KAAmB,CAAnB,IAAwBD,YAAY,CAACE,CAAb,KAAmB,EAA/C,EAAmD;AACjDsB,MAAAA,MAAM,CAACC,KAAP,CAAa,+DAAb;AACA1B,MAAAA,UAAU,CAACuB,SAAX,CAAqBC,MAArB,CAA4B,MAA5B;AACD;;AACDJ,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAOL,GAAnB,EAb0C,CAajB;;AACzBI,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACC,CAAzB;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAY,CAACE,CAAzB;AACD,GAhBD;AAiBD;;AAED,SAASmB,GAAT,GAAe;AACbjB,EAAAA,GAAG,CAACG,OAAJ,CAAYE,UAAZ,CAAuB,KAAvB;AAED","file":"script.d573be0b.map","sourceRoot":"../src","sourcesContent":["var character;\nvar labyrinthe;\nlet characterPos = {x: 0, y: 0};\nvar combination = [\n  [\"ltr\",\"lt\",\"tb\",\"tb\",\"t\",\"tb\",\"t\",\"tb\",\"tr\",\"lt\",\"tr\",\"lt\",\"tb\",\"tbr\"], \n  [\"lrm\",\"lr\",\"lt\",\"tr\",\"lr\",\"ltb\",\"br\",\"ltr\",\"lb\",\"r\",\"lr\",\"lb\",\"tr\",\"ltr\"], \n  [\"lb\",\"a\",\"br\",\"lr\",\"lr\",\"lt\",\"tb\",\"b\",\"tr\",\"lbr\",\"lb\",\"tr\",\"l\",\"r\"], \n  [\"ltr\",\"lb\",\"tr\",\"lr\",\"lr\",\"lr\",\"ltb\",\"tr\",\"lb\",\"tr\",\"lt\",\"br\",\"lr\",\"lr\"], \n  [\"lr\",\"ltr\",\"lr\",\"lr\",\"lbr\",\"lb\",\"tb\",\"br\",\"lt\",\"br\",\"l\",\"tb\",\"br\",\"lr\"], \n  [\"lr\",\"lb\",\"br\",\"lb\",\"tb\",\"tb\",\"tb\",\"tb\",\"br\",\"ltr\",\"lbr\",\"lt\",\"t\",\"br\"], \n  [\"lr\",\"lt\",\"tb\",\"tr\",\"lt\",\"tr\",\"lt\",\"t\",\"tr\",\"lb\",\"tb\",\"r\",\"lr\",\"ltr\"], \n  [\"lr\",\"lr\",\"lt\",\"r\",\"lr\",\"lr\",\"lr\",\"lr\",\"lb\",\"tb\",\"tb\",\"br\",\"lb\",\"r\"], \n  [\"l\",\"r\",\"lbr\",\"lb\",\"br\",\"lr\",\"lbr\",\"lb\",\"tb\",\"tr\",\"lt\",\"tr\",\"ltr\",\"lr\"], \n  [\"lr\",\"lr\",\"lt\",\"tr\",\"ltr\",\"lb\",\"tb\",\"tb\",\"tb\",\"br\",\"lr\",\"lr\",\"lr\",\"lr\"], \n  [\"lr\",\"lb\",\"br\",\"lb\",\"b\",\"tb\",\"t\",\"tb\",\"tb\",\"tb\",\"r\",\"lr\",\"lr\",\"lr\"], \n  [\"lb\",\"tb\",\"tb\",\"tb\",\"tb\",\"tbr\",\"lb\",\"tb\",\"tb\",\"tb\",\"br\",\"lr\",\"lb\",\"br\"]\n];\n\n// Enter the game when pressing ente, if not already in it\noxo.inputs.listenKey('enter', function() {\n  if (oxo.screens.getCurrentScreen !== 'game') {\n    oxo.screens.loadScreen('game', game);\n  }\n});\n\nfunction game() {\n  labyrinthe = document.getElementById('labyrinthe');\n  characterPos = {x: 0, y: 0};\n  oxo.player.setScore(0);\n  character = document.getElementById('character'); // Get the character element\n  oxo.inputs.listenKey('up', function(key) {\n    if (combination[characterPos.y][characterPos.x].indexOf(\"t\") < 0) {\n      oxo.animation.move(character, 'up', 36);\n      characterPos.y--;\n    } \n    console.log(\"key:\"+key); // left, up, right or down;\n    console.log(characterPos.x);\n    console.log(characterPos.y);\n  });\n  \n  oxo.inputs.listenKey('down', function(key) {\n    if (combination[characterPos.y][characterPos.x].indexOf(\"b\") < 0 ) {\n      oxo.animation.move(character, 'down', 36);\n      characterPos.y++;\n    }\n    if (oxo.screens.getCurrentScreen !== 'end' && characterPos.y > 11) {\n      oxo.screens.loadScreen('end', end);\n    }\n    console.log(\"key:\"+key); // left, up, right or down;\n    console.log(characterPos.x);\n    console.log(characterPos.y);   \n  });\n  \n  oxo.inputs.listenKey('left', function(key) {\n    if (combination[characterPos.y][characterPos.x].indexOf(\"l\") < 0 ) {\n      oxo.animation.move(character, 'left', 36);\n      characterPos.x--;\n    }\n    console.log(\"key:\"+key); // left, up, right or down;\n    console.log(characterPos.x);\n    console.log(characterPos.y);\n    if (characterPos.x === 6 && characterPos.y === 3) {\n      labyrinthe.classList.toggle('horizontal')\n    } \n  });\n  \n  oxo.inputs.listenKey('right', function(key) {\n    if (combination[characterPos.y][characterPos.x].indexOf(\"r\") < 0 ) {\n      oxo.animation.move(character, 'right', 36);\n      characterPos.x++;\n    }\n    if (characterPos.x === 5 && characterPos.y === 11) {\n\n      labyrinthe.classList.toggle('horizontal');\n    } \n    if (characterPos.x === 9 && characterPos.y === 10) {\n      window.alert(\"En raison d'un colis suspect, votre progression est ralenti !\");\n      labyrinthe.classList.toggle('slow');\n    }\n    console.log(\"key:\"+key); // left, up, right or down;\n    console.log(characterPos.x);\n    console.log(characterPos.y);\n  });\n}\n\nfunction end() {\n  oxo.screens.loadScreen('end');\n  \n}"]}